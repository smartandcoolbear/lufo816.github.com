---
title: 躺着也被院长虐
layout: post
tags:
  - daily
  - compiler
---

今天下午本来去岁月湖吃饭顺便和队友商量下华为杯人工智能比赛选题的事儿,结果我们正要走,迎面过来一个矮胖的中年男人,这熟悉的身影不是李院长嘛!然后就开始了接近两小时的吹水之旅.

先是扯了点有的没的,什么他卸任校长助理,软院院长啦,以后专门负责 [SMIE](http://smie.sysu.edu.cn/) 和 [JIE](http://jie.sysu.edu.cn/2013/) 啦,bulabula.然后终于露出他腹黑的本质,先说他之前办了个讲座问我们有没有去,然后趁机出题坑我们.

院长说他讲座就讲了个表达式:

	int x = 1;
	float y = 3.14 * x + 1;
	
然后问我们这表达式执行过程中到底发生了什么,我倒霉催的第一个答 TOT.

直接说下比较正确的吧:首先 x 隐式转化为 double(不是 float),然后与3.14相乘,1隐式转为 double,相加后结果存在栈里,隐式转为 float 后赋值给 y.

就这么简单的过程我答的漏洞百出,然后院长问天燕 Run 一个 HelloWorld 的时候都发生了什么.还是直接上正确的:首先预处理,对#开头的内容预处理,然后编译成目标代码,然后链接,把用到的多个.o/.lib 文件链接起来,然后目标代码中内存地址改为真实内存地址,就变成可执行文件.

院长继续水编译器的具体工作,编译原理还没学,这里更不知道了.又问了 register是不是 C 语言的关键字(我之前竟然说 printf 是关键字Orz),我们表示实在不知道,他说 register int i就表示尽量把 i 放进 register,又问计算机的储存结构,还好这个知道:register->cache->memory->disk,接着问为什么现在不用这个关键字了,这下更不知道,院长大人解释道因为编译器很机智,他会自动给你加 register,写与不写一个样.

总之是又被院长虐了一次,院长真心牛逼,随便挑个问题都能讲出很多东西.就像他说的,这些本该是大一前三周就该弄懂的东西大部分人毕业都不知道,这些老师不会讲,你懂不懂关键在于**求知欲**,这句话真是振聋发聩,毕竟老司机.真的不能得过且过,自己做出来的东西一定要搞明白一步步是怎么发生的.我知道的还太少太少,继续努力吧.
